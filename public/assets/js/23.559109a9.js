(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{599:function(t,a,s){t.exports=s.p+"assets/img/08.0c4cb2c7.png"},600:function(t,a,s){t.exports=s.p+"assets/img/09.0bae470b.png"},601:function(t,a,s){t.exports=s.p+"assets/img/11.9e99f797.png"},602:function(t,a,s){t.exports=s.p+"assets/img/12.d8664826.png"},603:function(t,a,s){t.exports=s.p+"assets/img/13.b2b89392.png"},766:function(t,a,s){"use strict";s.r(a);var e=s(8),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"域名系统-dns"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#域名系统-dns"}},[t._v("#")]),t._v(" 域名系统 DNS")]),t._v(" "),e("h2",{attrs:{id:"http-协议"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http-协议"}},[t._v("#")]),t._v(" HTTP 协议")]),t._v(" "),e("h3",{attrs:{id:"手写-ajax"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#手写-ajax"}},[t._v("#")]),t._v(" 手写 ajax")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//手写ajax")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//请求地址 https://www.jixieclub.com:3002/list?Pnum=1")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" xhr "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XMLHttpRequest")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//第三个参数为true说明是异步请求")]),t._v("\nxhr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://www.jixieclub.com:3002/list?Pnum=1'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//当readState变化时触发")]),t._v("\nxhr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onreadystatechange")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xhr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("readyState "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//readyState代表数据流的状态")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//4的意思是数据量全部下载完成")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xhr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xhr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("responseText"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'其他情况'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//get请求发送null")]),t._v("\nxhr"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br")])]),e("h3",{attrs:{id:"状态码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#状态码"}},[t._v("#")]),t._v(" 状态码")]),t._v(" "),e("h4",{attrs:{id:"_1xx-服务器受到请求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1xx-服务器受到请求"}},[t._v("#")]),t._v(" 1xx 服务器受到请求")]),t._v(" "),e("h4",{attrs:{id:"_2xx-请求成功"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2xx-请求成功"}},[t._v("#")]),t._v(" 2xx 请求成功")]),t._v(" "),e("ul",[e("li",[t._v("200 请求成功")])]),t._v(" "),e("h4",{attrs:{id:"_3xx-重定向-配合相应头里的-location"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3xx-重定向-配合相应头里的-location"}},[t._v("#")]),t._v(" 3xx 重定向(配合相应头里的 location)")]),t._v(" "),e("ul",[e("li",[t._v("301 永久重定向，域名快过期的时候可以整一个")]),t._v(" "),e("li",[t._v("302 临时重定向 （跳外链，搜索结果，短网址）")]),t._v(" "),e("li",[t._v("304 资源未修改")])]),t._v(" "),e("h4",{attrs:{id:"_4xx-客户端错误"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4xx-客户端错误"}},[t._v("#")]),t._v(" 4xx 客户端错误")]),t._v(" "),e("ul",[e("li",[t._v("404 找不到资源")]),t._v(" "),e("li",[t._v("403 没有权限")])]),t._v(" "),e("h4",{attrs:{id:"_5xx-服务端错误"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5xx-服务端错误"}},[t._v("#")]),t._v(" 5xx 服务端错误")]),t._v(" "),e("ul",[e("li",[t._v("500 服务端错误")]),t._v(" "),e("li",[t._v("504 网关超时（服务器集群）")])]),t._v(" "),e("h3",{attrs:{id:"http-methods"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http-methods"}},[t._v("#")]),t._v(" http methods")]),t._v(" "),e("ul",[e("li",[t._v("get: 获取数据")]),t._v(" "),e("li",[t._v("post: 新建数据")]),t._v(" "),e("li",[t._v("patch/put: 更新数据")]),t._v(" "),e("li",[t._v("delete: 删除数据")])]),t._v(" "),e("h4",{attrs:{id:"restful-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#restful-api"}},[t._v("#")]),t._v(" Restful API")]),t._v(" "),e("ul",[e("li",[t._v("传统 api: 把每个 url 当作一个功能")]),t._v(" "),e("li",[t._v("Restful: 把每个 url 当做一个唯一的资源（不传参数，明确 method）")])]),t._v(" "),e("h3",{attrs:{id:"header"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#header"}},[t._v("#")]),t._v(" header")]),t._v(" "),e("h4",{attrs:{id:"常见的请求头"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常见的请求头"}},[t._v("#")]),t._v(" 常见的请求头")]),t._v(" "),e("ul",[e("li",[t._v("Accept: text/html (浏览器能接受的格式)")]),t._v(" "),e("li",[t._v("Accept-Encoding (浏览器能接受的压缩方式)")]),t._v(" "),e("li",[t._v("Accept-Language")]),t._v(" "),e("li",[t._v("Connection: keep-alive http1.1 特性,建立 tcp 长连接")]),t._v(" "),e("li",[t._v("cookie")]),t._v(" "),e("li",[t._v("Host:请求的域名")]),t._v(" "),e("li",[t._v("User-Agent： 用户代理(浏览器信息)")]),t._v(" "),e("li",[t._v("Content-type: application/json 发送的数据格式")])]),t._v(" "),e("h4",{attrs:{id:"常见的响应头"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常见的响应头"}},[t._v("#")]),t._v(" 常见的响应头")]),t._v(" "),e("ul",[e("li",[t._v("Content-type：返回的数据格式")]),t._v(" "),e("li",[t._v("Content-length: 返回数据的长度")]),t._v(" "),e("li",[t._v("Content-Encoding 　返回数据的压缩方式")]),t._v(" "),e("li",[t._v("Set-Cookie")])]),t._v(" "),e("h3",{attrs:{id:"缓存机制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#缓存机制"}},[t._v("#")]),t._v(" 缓存机制")]),t._v(" "),e("h4",{attrs:{id:"强制缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#强制缓存"}},[t._v("#")]),t._v(" 强制缓存")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("可以简单理解为在 max-age 中都会触发强制缓存。")])]),t._v(" "),e("li",[e("p",[t._v("Cache-Control:max-age/no-cache/no-store")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",[t._v("no-cache 和 no-store 的区别")])])]),t._v(" "),e("li",[e("p",[t._v("no-cache：不使用强制缓存，直接使用协商缓存")])]),t._v(" "),e("li",[e("p",[t._v("no-store: 不使用强制缓存，也不用协商缓存\n:::")])]),t._v(" "),e("li",[e("p",[t._v("expires 已被 cache-control 代替")])])]),t._v(" "),e("h4",{attrs:{id:"协商缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#协商缓存"}},[t._v("#")]),t._v(" 协商缓存")]),t._v(" "),e("p",[t._v("协商缓存是服务器端校验缓存的策略.")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("max-age 过期就会触发协商缓存")])]),t._v(" "),e("li",[e("p",[t._v("浏览器在"),e("strong",[t._v("再次")]),t._v("发送请求时，会带上"),e("strong",[t._v("资源标识")]),t._v("。服务器可以根据这些资源标识进行判断，相同返回 304（body 为空），否则返回 200（body 里有最新的资源）。")])]),t._v(" "),e("li",[e("p",[t._v("有哪些资源标识？")]),t._v(" "),e("ol",[e("li",[t._v("last-Modified: 资源的最后修改时间（精确到秒），请求的时候用的是"),e("code",[t._v("if-Modified-Since")]),t._v(",value 还是"),e("code",[t._v("last-Modified")]),t._v("中的 value")]),t._v(" "),e("li",[t._v("Etag：资源的唯一标识，请求的时候用的是"),e("code",[t._v("if-None-Match")]),t._v(",value 还是"),e("code",[t._v("etag")]),t._v("中的 value")])])]),t._v(" "),e("li",[e("p",[t._v("两者都有的话优先 Etag，更精确。")])])]),t._v(" "),e("h4",{attrs:{id:"刷新操作对缓存的影响"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#刷新操作对缓存的影响"}},[t._v("#")]),t._v(" 刷新操作对缓存的影响")]),t._v(" "),e("ul",[e("li",[t._v("手动刷新(F5)：强制缓存失效，协商缓存有效。")]),t._v(" "),e("li",[t._v("强制刷新(Ctrl+F5): 强制缓存和协商缓存全部失效。")])]),t._v(" "),e("h2",{attrs:{id:"https"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#https"}},[t._v("#")]),t._v(" HTTPS")]),t._v(" "),e("h2",{attrs:{id:"http-各个版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http-各个版本"}},[t._v("#")]),t._v(" HTTP 各个版本")]),t._v(" "),e("h3",{attrs:{id:"http1-1-的主要问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http1-1-的主要问题"}},[t._v("#")]),t._v(" http1.1 的主要问题")]),t._v(" "),e("p",[e("strong",[t._v("对宽带的利用率不高")])]),t._v(" "),e("p",[t._v("造成该现象的原因:")]),t._v(" "),e("ol",[e("li",[t._v("tcp 拥塞控制慢启动")]),t._v(" "),e("li",[t._v("多条 tcp 链接争抢宽带,影响关键资源下载")]),t._v(" "),e("li",[t._v("队头阻塞,上一个请求没处理好那么下一个请求就只能干等")])]),t._v(" "),e("h3",{attrs:{id:"http2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http2"}},[t._v("#")]),t._v(" http2")]),t._v(" "),e("p",[e("img",{attrs:{src:s(599),alt:""}})]),t._v(" "),e("p",[t._v("将请求打碎了用帧的形式来进行传输,同时每个帧都有对应的 id 和优先级")]),t._v(" "),e("p",[t._v("这样服务器就能实现调度响应.")]),t._v(" "),e("h4",{attrs:{id:"服务器推送"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#服务器推送"}},[t._v("#")]),t._v(" 服务器推送")]),t._v(" "),e("p",[t._v("这里的服务器推送是指当收到 html 请求时,服务器会直接把 html 中引用的 css 和 js 文件一起返回回来")]),t._v(" "),e("h4",{attrs:{id:"请求头压缩"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#请求头压缩"}},[t._v("#")]),t._v(" 请求头压缩")]),t._v(" "),e("p",[t._v("有很多请求的请求体和相应体都是空的,对头部压缩也能提升一些效率")]),t._v(" "),e("h3",{attrs:{id:"http3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http3"}},[t._v("#")]),t._v(" http3")]),t._v(" "),e("p",[e("img",{attrs:{src:s(600),alt:""}})]),t._v(" "),e("p",[t._v("http3 的底层用的是 udp,不过既然用 udp 的话,那就要手动在上层实现 tcp 中的特性了")]),t._v(" "),e("p",[t._v("包括流量控制和可靠传输等等,同时还要实现 https 和 http2 里有的东西,包括 tsl 多路复用.")]),t._v(" "),e("h3",{attrs:{id:"阻碍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#阻碍"}},[t._v("#")]),t._v(" 阻碍")]),t._v(" "),e("p",[t._v("中间设备僵化")]),t._v(" "),e("h2",{attrs:{id:"https-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#https-2"}},[t._v("#")]),t._v(" HTTPS")]),t._v(" "),e("p",[t._v("http 明文传输的内容很容易被其他人窃取和篡改,这种攻击方式也就是所谓的"),e("strong",[t._v("中间人攻击")])]),t._v(" "),e("h3",{attrs:{id:"tsl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tsl"}},[t._v("#")]),t._v(" TSL")]),t._v(" "),e("p",[e("img",{attrs:{src:s(601),alt:""}}),t._v("\n介于 http 协议和传输层之间,用于加密和解密 http 请求(安全层)")]),t._v(" "),e("h3",{attrs:{id:"对称加密"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对称加密"}},[t._v("#")]),t._v(" 对称加密")]),t._v(" "),e("p",[e("img",{attrs:{src:s(602),alt:""}})]),t._v(" "),e("p",[t._v("首先浏览器和服务器会彼此确认加密方法和对方的随机数")]),t._v(" "),e("p",[t._v("然后浏览器在利用彼此生成的随机数计算出相同的密钥,在拥有这个密钥的基础上进行安全传输.")]),t._v(" "),e("p",[t._v("可问题是第一次传"),e("code",[t._v("client-random")]),t._v("和"),e("code",[t._v("service-random")]),t._v("是明文的,而加密方法也都是公开的,黑客自己也能把这和密钥给算出来")]),t._v(" "),e("h3",{attrs:{id:"非对称加密"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#非对称加密"}},[t._v("#")]),t._v(" 非对称加密")]),t._v(" "),e("p",[e("img",{attrs:{src:s(603),alt:""}})]),t._v(" "),e("p",[t._v("首先浏览器依然会把自己支持的加密算法告诉服务器")]),t._v(" "),e("p",[t._v("接下来服务器会返回给浏览器一个公钥和一个加密算法,随后浏览器发送的所有数据都是经过公钥加密的,浏览器那里就可以用私钥进行解密")]),t._v(" "),e("p",[t._v("由于黑客那里没私钥,因此他即便拦截到浏览器的请求信息也莫得办法,但是!")]),t._v(" "),e("p",[t._v("服务器返回的数据黑客还是能够解密的!")]),t._v(" "),e("h3",{attrs:{id:"对称加密和非对称加密结合的方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对称加密和非对称加密结合的方式"}},[t._v("#")]),t._v(" 对称加密和非对称加密结合的方式")]),t._v(" "),e("p",[t._v("首先利用非对称加密让生成一个浏览器和服务器都知道的"),e("code",[t._v("master-key")]),t._v(",")]),t._v(" "),e("p",[t._v("黑客是不知道这个 key 的,因为他手里没私钥匙\n然后利用这个"),e("code",[t._v("master-key")]),t._v("将传输的内容进行对称加密")]),t._v(" "),e("h3",{attrs:{id:"数字证书"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数字证书"}},[t._v("#")]),t._v(" 数字证书")]),t._v(" "),e("p",[t._v('主要是防止 DNS 劫持,黑客有可能篡改了用户浏览器上域名到 ip 上的映射,因此服务器需要给浏览器一个证明"我就是我"的途径,这个途径就是签名证书')]),t._v(" "),e("p",[t._v("这个证书一方面可以用来证明身份,另一方面可以包含服务器的公钥")]),t._v(" "),e("p",[t._v("当浏览器向服务器要公钥的时候,服务器会直接把证书给浏览器,同时进行验证操作")]),t._v(" "),e("h3",{attrs:{id:"tls-完整握手流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tls-完整握手流程"}},[t._v("#")]),t._v(" TLS 完整握手流程")]),t._v(" "),e("ol",[e("li",[t._v("首先客户端会先发起请求，在这次请求中会带上一个随机数，以及自己支持的 tls 版本和加密套件")]),t._v(" "),e("li",[t._v("服务器受到请求后，会返回一个新的随机数，确认支持的 tls 版本和加密套件，同时也会把自己的 ca 证书给浏览器")]),t._v(" "),e("li",[t._v("浏览器此时会从 ca 证书里面把公钥取出来，然后将一个"),e("code",[t._v("premaster-key")]),t._v("用 公钥加密发给服务器")]),t._v(" "),e("li",[t._v("服务器此时会用私钥去解密这个"),e("code",[t._v("premaster-key")])])]),t._v(" "),e("p",[t._v("现在这个时间节点后，客户端和服务器就都有对方的"),e("code",[t._v("随机数")]),t._v("和"),e("code",[t._v("premaster-key")]),t._v("了，他们会计算出一个相同的"),e("code",[t._v("master-key")]),t._v("，来进行对称接下来所有的 http 报文。")])])}),[],!1,null,null,null);a.default=n.exports}}]);