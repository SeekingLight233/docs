(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{735:function(v,t,s){v.exports=s.p+"assets/img/10.a6dc73ec.png"},736:function(v,t){v.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA08AAAAwCAYAAADJokGTAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAABOeSURBVHhe7ZzPy2VXVobzP/gfZCxEcJyRJBlHB9IZ6cTgxJEI7czYCA4MOLAd2fQgaE9aggqNiiKSbgJBFH9AuhN1UghCEoJKNerg6vOl3vDmrbXP2fdWpSyT94HNPWfvtddev875vlX3S565lFJKKaWUUko5pc1TKaWUUkoppWzQ5qmUUkoppZRSNmjzVEoppZRSSikbtHkqpZRSSimllA3aPJVSSimllFLKBm2eSimllFJKKWWDR2qe3vj9dy4/90vfutz/4X89mClPgvv3719effXVyxtvvPFgZs1rr712eemlly4ffPDBg5lSSimllFLKLbR5Gvjgo/+4vPiVr1+++84/PZh5umjzVEoppZRSypOnzdPAF6l5KqWUUkoppTwermqeaJJoln7kR7/66fDmKdd/7MVfv3z/H//1bk1MOtSk8EnTQvMifuX179wNoFn7xV9989P9b/7x397J5znIS3fqQwfrfEpG+tU0ad6HZHZ59913L88999zlmWeeuRv57Q+Nj9YY2Qi99dZbn1nnGySRzZPuOY9zwfWvvnnKM7gvpZRSSimlzGw3T2p6vInwb56mdZohb2wmGWeneaKRQY45dP/139+708kaMC+bgHnXKR3SiW3oUQMHaqJ87hrUOK2aERobb2j45F7NEPu8EVJzpAbKm6dcS9A1NU95xpnNpZRSSimlfNnZbp5oMn7657/50Lc4alRYf+Erv/WZb4DULKmxmZojZ6d50nk+zydr7MNGtyEbIdcBaSPknmuhkVk1M/mtkeCeedan/d4EScfrr79+N7c6C1bNE3vShuncUkoppZRSyidsN09TY+ONyKoxWjU/E4/aPOlbJP9zO40n1TytmiOhb5nyGx41Offu3Rv3883Qiy++ePepM/hTO//2aGJqnnx/jjZPpZRSSimlzDy25ulp/eYpcR3wuJsnOPoGZ9Vc3fLNE3uYP2qgpuYJ0L9q8EoppZRSSikPs908ZUNBs8E3OmpE1ISooQFkvBmSDpdxsgHTGZL3xoc5zfOp5odrb44S1wGyW/th8iV5//33Ly+88MLllVdeuXz00UcPZj+BhoVv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"},737:function(v,t,s){v.exports=s.p+"assets/img/10.2ed3d8b9.png"},791:function(v,t,s){"use strict";s.r(t);var a=s(8),e=Object(a.a)({},(function(){var v=this,t=v.$createElement,a=v._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[a("h2",{attrs:{id:"跨域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跨域"}},[v._v("#")]),v._v(" 跨域")]),v._v(" "),a("p",[v._v("博文参考:"),a("a",{attrs:{href:"https://segmentfault.com/a/1190000012469713#articleHeader9",target:"_blank",rel:"noopener noreferrer"}},[v._v("ajax 跨域，这应该是最全的解决方案了"),a("OutboundLink")],1)]),v._v(" "),a("p",[v._v("要理解"),a("strong",[v._v("跨域")]),v._v("，首先我们需要理解"),a("strong",[v._v("同源策略")]),v._v("。")]),v._v(" "),a("p",[a("strong",[v._v("同源")]),v._v("是在 1995 年由网景公司提出来的一个策略，这个策略的最初的主要内容是：")]),v._v(" "),a("blockquote",[a("p",[v._v("A 网页如果设置了 cookie，那么 B 网页不能打开。")])]),v._v(" "),a("p",[v._v("我们很容易能够看出这个策略的主要目的是为了安全，现如今所有的浏览器都支持这个策略。")]),v._v(" "),a("p",[v._v("随着互联网的发展，同源策略也越来越严格，只要你的"),a("strong",[v._v("协议")]),v._v("，"),a("strong",[v._v("域名")]),v._v("和"),a("strong",[v._v("端口")]),v._v("有一个不一样，浏览器都会将你的请求视为"),a("strong",[v._v("跨域")]),v._v("访问,下面这三种行为都会受到限制：")]),v._v(" "),a("ol",[a("li",[v._v("用户信息("),a("code",[v._v("cookie")]),v._v(","),a("code",[v._v("localStorage")]),v._v(","),a("code",[v._v("indexedDB")]),v._v(")")]),v._v(" "),a("li",[a("code",[v._v("iframe")])]),v._v(" "),a("li",[v._v("网络请求")])]),v._v(" "),a("p",[v._v("当你发一个请求给一个非同源的服务器时，你会得到这条警告信息："),a("img",{attrs:{src:s(735),alt:""}})]),v._v(" "),a("h3",{attrs:{id:"cors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cors"}},[v._v("#")]),v._v(" CORS")]),v._v(" "),a("p",[a("strong",[v._v("CORS")]),v._v("全称为"),a("code",[v._v("Cross-origin resource sharing")]),v._v(",这是一个 W3C 的标准，它允许浏览器向非同源服务器发送请求。")]),v._v(" "),a("p",[v._v("这个主要靠后端开启，但是存在兼容问题。")]),v._v(" "),a("h3",{attrs:{id:"jsonp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jsonp"}},[v._v("#")]),v._v(" JSONP")]),v._v(" "),a("p",[a("strong",[v._v("JSONP")]),v._v("全称为"),a("code",[v._v("JSON with padding")])]),v._v(" "),a("p",[v._v("这种方式发起请求会从后端得到“被包裹的 JSON 数据”，大概像这样")]),v._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[v._v("callback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("{")]),v._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[v._v(":")]),v._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[v._v("'hax'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(",")]),v._v(" gender"),a("span",{pre:!0,attrs:{class:"token operator"}},[v._v(":")]),v._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[v._v("'Male'")]),v._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("\n")])]),v._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[v._v("1")]),a("br")])]),a("p",[v._v("其中"),a("code",[v._v("callback")]),v._v("是用户在发起请求时传过去的参数，我们实际要得到的数据会包裹在函数的参数中，我们可以在本地定义这个函数的具体操作，然后再通过"),a("code",[v._v("script")]),v._v("标签“云调用”一下这个函数，就可以完成我们的跨域请求啦~~")]),v._v(" "),a("p",[v._v("这种方式的主要原理还是利用了"),a("code",[v._v("script")]),v._v("标签没有跨域限制的漏洞，"),a("hide",{attrs:{txt:"所以我个人不是很喜欢这种方式，感觉是在“卡bug”，给人一种将错就错的感觉。"}}),v._v("来间接实现跨域访问。")],1),v._v(" "),a("p",[v._v("这种方式相比较 CORS 来说兼容性会更好一些。")]),v._v(" "),a("h3",{attrs:{id:"关于资源地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于资源地址"}},[v._v("#")]),v._v(" 关于资源地址")]),v._v(" "),a("p",[v._v("当请求资源时("),a("code",[v._v("css")]),v._v(","),a("code",[v._v("js")]),v._v(","),a("code",[v._v("img")]),v._v(")并不会触发同源限制，利用这个特性，我们可以：")]),v._v(" "),a("ol",[a("li",[v._v("用"),a("img"),v._v("来统计访问量(PV,UV)。")]),v._v(" "),a("li",[a("code",[v._v("link")]),v._v("和"),a("code",[v._v("script")]),v._v("标签可以使用 CDN")])]),v._v(" "),a("h2",{attrs:{id:"存储"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#存储"}},[v._v("#")]),v._v(" 存储")]),v._v(" "),a("h3",{attrs:{id:"cookie"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[v._v("#")]),v._v(" cookie")]),v._v(" "),a("p",[a("code",[v._v("cookie")]),v._v("是一种超小型的文本文件，由网景公司的某个员工发明，是网站为了辨别用户身份而存储在用户本地的非常小的数据(只有 4K)。")]),v._v(" "),a("p",[a("code",[v._v("cookie")]),v._v("会被设置在"),a("code",[v._v("HTTP")]),v._v("的"),a("code",[v._v("header")]),v._v("中，会对请求有性能影响。")]),v._v(" "),a("p",[a("code",[v._v("cookie")]),v._v("由服务器端生成，存储在客户端，可以设置过期时间。\n"),a("img",{attrs:{src:s(736),alt:""}}),v._v(";")]),v._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",[v._v("cookie 语法的键值对是用等于号隔开的，这点需要注意。")])]),v._v(" "),a("h3",{attrs:{id:"cookie-的结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookie-的结构"}},[v._v("#")]),v._v(" cookie 的结构")]),v._v(" "),a("ul",[a("li",[v._v("name: cookie 的名字")]),v._v(" "),a("li",[v._v("value: cookie 的值")]),v._v(" "),a("li",[v._v("Expires/Max-Age: 超时时间")]),v._v(" "),a("li",[v._v("HttpOnly: 只允许 http 使用,可以防止 XSS")]),v._v(" "),a("li",[v._v("SameSite: 和防止 CSRF 有关")])]),v._v(" "),a("h3",{attrs:{id:"localstorage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#localstorage"}},[v._v("#")]),v._v(" localStorage")]),v._v(" "),a("p",[a("RouterLink",{attrs:{to:"/docs/js对象常用api整理.html#localstorage全局对象"}},[v._v("localStorage 的简单使用")])],1),v._v(" "),a("p",[a("code",[v._v("localStorage")]),v._v("的生命周期为永久，除非用户手动清理。")]),v._v(" "),a("p",[a("code",[v._v("localStorage")]),v._v("的数据大小有 5M。")]),v._v(" "),a("h3",{attrs:{id:"sessionstorage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sessionstorage"}},[v._v("#")]),v._v(" sessionStorage")]),v._v(" "),a("p",[a("code",[v._v("sessionStorage")]),v._v("与"),a("code",[v._v("localStorage")]),v._v("的最大区别体现在生命周期上 ，一旦浏览器关闭则被清理。")]),v._v(" "),a("h3",{attrs:{id:"indexdb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#indexdb"}},[v._v("#")]),v._v(" indexDB")]),v._v(" "),a("p",[v._v("如果"),a("code",[v._v("localStorage")]),v._v("存不下的话我们可以上浏览器中的这个数据库。")]),v._v(" "),a("h2",{attrs:{id:"页面加载过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面加载过程"}},[v._v("#")]),v._v(" 页面加载过程")]),v._v(" "),a("p",[v._v("这块的内容可以用来回答那个被问烂了的的问题"),a("hide",{attrs:{txt:"Q:你梭梭当你输入url时发生了啥？A：不好意思面试官我先喝口水"}}),v._v(",但全部展开这块内容能涉及到网络，计算机图形学，操作系统甚至是编译原理，"),a("hide",{attrs:{txt:"我只是一个小蒟蒻鸭你总不能这样为难我"}}),v._v("所以尽量站在前端的角度把这个问题回答好吧。")],1),v._v(" "),a("p",[v._v("总的来说可以分为"),a("strong",[v._v("资源加载阶段")]),v._v("和"),a("strong",[v._v("资源渲染阶段")]),v._v("。")]),v._v(" "),a("p",[v._v("这里我们默认资源的类型是"),a("strong",[v._v("HTML")]),v._v("。")]),v._v(" "),a("h3",{attrs:{id:"资源加载阶段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#资源加载阶段"}},[v._v("#")]),v._v(" 资源加载阶段")]),v._v(" "),a("ol",[a("li",[v._v("浏览器根据 DNS 服务器找到服务器的 ip 地址。")]),v._v(" "),a("li",[v._v("浏览器向这个 ip 发请求 => 服务器处理并返回请求。")])]),v._v(" "),a("h3",{attrs:{id:"资源渲染阶段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#资源渲染阶段"}},[v._v("#")]),v._v(" 资源渲染阶段")]),v._v(" "),a("p",[v._v("这部分就是我们前端要详细回答的阶段了。")]),v._v(" "),a("h4",{attrs:{id:"一、dom-树生成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、dom-树生成"}},[v._v("#")]),v._v(" 一、dom 树生成")]),v._v(" "),a("ol",[a("li",[v._v("首先浏览器在拿到"),a("code",[v._v("HTML")]),v._v("文件前要先在计算机中"),a("strong",[v._v("开辟出内存")]),v._v("，同时为"),a("code",[v._v("HTML")]),a("strong",[v._v("分配一个主线程")]),v._v("去一行行解析和执行代码。")]),v._v(" "),a("li",[v._v("在主线程解析的过程中，如果遇到了外部静态资源("),a("code",[v._v("link")]),v._v(","),a("code",[v._v("script")]),v._v(","),a("code",[v._v("img")]),v._v("),此时会开辟一个"),a("strong",[v._v("新的任务队列和新的副线程")]),v._v("去加载这些资源文件，而主线程继续向下解析代码。")]),v._v(" "),a("li",[v._v("当主线程从上往下执行完后，会生成"),a("strong",[v._v("dom 树")]),v._v("。"),a("div",{staticClass:"custom-block warning"},[a("p",[v._v("假如说你现在打开一个网页，在加载的过程中你直接把网线给拔了，有很大几率你会碰到一个没有样式表的网页，因为此时 css 资源已经回不来了。。")])])])]),v._v(" "),a("p",[v._v("因此建议将 css 放在 head 中，提前加载。\n:::")]),v._v(" "),a("h4",{attrs:{id:"二、event-loop-生成-cssom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、event-loop-生成-cssom"}},[v._v("#")]),v._v(" 二、Event Loop 生成 CSSom")]),v._v(" "),a("p",[v._v("主线程解析完后，就会进入"),a("RouterLink",{attrs:{to:"/docs/Javascript执行过程分析.html#event-loop"}},[v._v("Event Loop")]),v._v("阶段，当任务队列里的 css 静态资源都加载完后，此时会生成"),a("strong",[v._v("CSSom")]),v._v("。")],1),v._v(" "),a("h4",{attrs:{id:"三、生成渲染树"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、生成渲染树"}},[v._v("#")]),v._v(" 三、生成渲染树")]),v._v(" "),a("p",[v._v("当"),a("strong",[v._v("dom 树")]),v._v("和"),a("strong",[v._v("CSSom")]),v._v("都到齐了之后，此时他们俩会结合生成一颗"),a("strong",[v._v("Render tree")]),v._v("。")]),v._v(" "),a("h4",{attrs:{id:"四、计算布局"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、计算布局"}},[v._v("#")]),v._v(" 四、计算布局")]),v._v(" "),a("p",[v._v("根据生成的渲染树以及视窗(viewport)大小，计算每个 dom 节点的"),a("code",[v._v("layout")]),v._v("信息(位置，大小),最终生成分层树")]),v._v(" "),a("p",[v._v("如果由于渲染树中的某些属性的更改，而引发布局的更改，就会引发"),a("strong",[v._v("回流")]),v._v("。")]),v._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[v._v("影响回流的具体操作")]),v._v(" "),a("ol",[a("li",[v._v("添加/删除 元素（display 也算）")]),v._v(" "),a("li",[v._v("元素位置发生变化（可以使用"),a("code",[v._v("transform")]),v._v("，只会触发复合图层）")]),v._v(" "),a("li",[v._v("更改 style")]),v._v(" "),a("li",[v._v("修改浏览器大小，字体大小")])]),v._v(" "),a("p",[v._v("最佳实践："),a("strong",[v._v("避免回流")]),v._v("/"),a("strong",[v._v("读写分离")])])]),v._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[v._v("在布局和绘制阶段，你可以使用"),a("code",[v._v("will-change")]),v._v("来创建新的图层。\n有些浏览器为了进行渲染优化会默认将一些属性提取到新的图层，比如"),a("code",[v._v("transform，opacity，fixed,z-index等等")])])]),v._v(" "),a("h4",{attrs:{id:"五、绘制与合成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、绘制与合成"}},[v._v("#")]),v._v(" 五、绘制与合成")]),v._v(" "),a("p",[v._v("首先要为每个图层生成一个绘制列表(绘制指令),这些指令交给合成线程后,合成线程会将图层分成图块,并将图块进行光栅化成像素图.")]),v._v(" "),a("p",[v._v("最后合成线程会把绘制指令统一发送给浏览器的进程,浏览器通过调用内部的相关 api 最终会生成出页面.")]),v._v(" "),a("h2",{attrs:{id:"安全"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安全"}},[v._v("#")]),v._v(" 安全")]),v._v(" "),a("h3",{attrs:{id:"xss-跨站请求攻击"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xss-跨站请求攻击"}},[v._v("#")]),v._v(" XSS 跨站请求攻击")]),v._v(" "),a("p",[a("strong",[v._v("XSS")]),v._v("全称为"),a("code",[v._v("Cross Site Scripting")]),a("hide",{attrs:{txt:"如果缩写是CSS就和那个CSS混了"}})],1),v._v(" "),a("p",[v._v("攻击者会想尽一切办法将 script 代码注入到网页中，从而执行自己的攻击操作。")]),v._v(" "),a("h4",{attrs:{id:"存储性-xss-攻击"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#存储性-xss-攻击"}},[v._v("#")]),v._v(" 存储性 XSS 攻击")]),v._v(" "),a("p",[a("img",{attrs:{src:s(737),alt:""}})]),v._v(" "),a("p",[v._v("案例:2015 喜马拉雅")]),v._v(" "),a("p",[v._v('当时喜马拉雅的技术没有对"专辑名称"这个输入框进行 XSS 过滤,黑客就可以通过这个输入框把恶意代码存储到服务器的数据库里')]),v._v(" "),a("p",[v._v("如果别的用户打开这个专辑,那么这段代码就被注进去了")]),v._v(" "),a("h4",{attrs:{id:"反射型-xss-攻击"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#反射型-xss-攻击"}},[v._v("#")]),v._v(" 反射型 XSS 攻击")]),v._v(" "),a("p",[v._v("这种攻击的恶意代码写在 url 的参数上,黑客往往会诱导受害者去点击这些链接")]),v._v(" "),a("h4",{attrs:{id:"基于-dom-的-xss-攻击"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基于-dom-的-xss-攻击"}},[v._v("#")]),v._v(" 基于 Dom 的 XSS 攻击")]),v._v(" "),a("p",[v._v("这种攻击一般是由于 html 在传输的过程中就被人给改了,XSS 只是发起攻击的配合手段")]),v._v(" "),a("h4",{attrs:{id:"解决方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决方法"}},[v._v("#")]),v._v(" 解决方法")]),v._v(" "),a("ol",[a("li",[v._v("尖括号转码或 script 内容过滤")]),v._v(" "),a("li",[v._v("httpOnly 这样 document.cookie 无法读取")]),v._v(" "),a("li",[v._v("开启 CSP 白名单,可以通过 meta 标签或在 http 头部设置"),a("code",[v._v("Content-Security-Policy")]),v._v("字段")])]),v._v(" "),a("h3",{attrs:{id:"xsrf-跨站请求伪造"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xsrf-跨站请求伪造"}},[v._v("#")]),v._v(" XSRF 跨站请求伪造")]),v._v(" "),a("p",[v._v("通过模拟登陆状态的用户,窃取受害人相关信息")]),v._v(" "),a("p",[v._v("案例:2007 Gmail")]),v._v(" "),a("p",[v._v("谷歌的某高官曾不小心点了一个恶意链接,点完这个链接后没几天自己的域名被盗了.")]),v._v(" "),a("p",[v._v("原因就是当他点完这个链接后,\n其实从黑客的网站上带着他的 cookie 往 Gmail 上提交了一个恶意请求,这个恶意请求\n会调用 Gmail 上的一些接口,然后偷偷设置了转发规则,于是邮件就被窃取了")]),v._v(" "),a("h4",{attrs:{id:"解决办法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决办法"}},[v._v("#")]),v._v(" 解决办法")]),v._v(" "),a("ol",[a("li",[a("p",[v._v("cookie 上设置 SameSite 属性,最好设置为 lax,这样服务器默认就不会接受第三方的 Cookie 了(但导航到外链依旧可以)")])]),v._v(" "),a("li",[a("p",[v._v("验证请求的来源地址(主要依靠请求头的 referer 和 origin 属性)")])])]),v._v(" "),a("h2",{attrs:{id:"相关面试题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#相关面试题"}},[v._v("#")]),v._v(" 相关面试题")]),v._v(" "),a("h3",{attrs:{id:"script-中的-defer-和-async"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#script-中的-defer-和-async"}},[v._v("#")]),v._v(" script 中的 defer 和 async")]),v._v(" "),a("p",[v._v("defer 会推迟 script 脚本加载,效果和我们去把 script 放在 body 底下一样.\n而 async 则会异步加载 script(类似又开了个进程去单独加载和执行),但具体的执行顺序就无法得到保证了")])])}),[],!1,null,null,null);t.default=e.exports}}]);